<!DOCTYPE html>
<html lang="en">
  <head>
        <meta name="description" content="Some very basic benchmarks with nginx and apache" />
    <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;user-scalable=no;target-densitydpi=device-dpi">
    <title>Nginx vs. Apache - Michael Lustfield</title>
    <link rel="stylesheet" type="text/css" href="https://michael.lustfield.net/theme/css/combined.css" />
    <!--[if lt IE 9]><script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE9.js"></script><script src="https://michael.lustfield.net/theme/js/html5shiv.js"></script><![endif]-->
    <link rel="shortcut icon" type="image/png" href="https://michael.lustfield.net/theme/img/favicon.ico" />
    <link rel="alternate" type="application/atom+xml" title="Michael Lustfield - Atom Feed" href="https://michael.lustfield.net/" /> 
    <link rel ="alternate" type="application/rss+xml" title="Michael Lustfield - RSS Feed" href="https://michael.lustfield.net/rss.xml" />
    <link rel="dns-prefetch" href="//www.google-analytics.com/">

    <meta name="author"   content="michael" />
    <meta name="keywords" content="nginx, apache, reviews" />
  </head>
  <body>
    <div id="page">
      
      <div id="page-head">
        <a class="site-heading" href="https://michael.lustfield.net/">Michael Lustfield</a>
      </div>
     
      <div id="page-body" class="grid-container grid-parent">
      <div id="page-side" class="grid-15 tablet-grid-15 mobile-grid-100">          <ul id="nav-table">
          <li class="side-navigation-li">
          <nav>
            <h3>Pages</h3>
            <ul>
              <li><a href="https://michael.lustfield.net">Home</a></li>
              <!--<li><a href="https://michael.lustfield.net/categories">Categories</a></li>-->
              <!--<li><a href="https://michael.lustfield.net/archives">Archives</a></li>-->
              <li><a href="https://michael.lustfield.net/tags">Tags</a></li>
              <li><a href="https://michael.lustfield.net/pages/about-me">About Me</a></li>
              <li><a href="https://michael.lustfield.net/pages/contact-me">Contact Me</a></li>
            </ul>
          </nav>
        </li>

          <li class="side-navigation-li">
          <nav>
            <h3>Categories</h3>
            <ul>
              <li><a href="https://michael.lustfield.net/category/linux">Linux</a></li>
              <li><a href="https://michael.lustfield.net/category/misc">Misc</a></li>
              <li class="active"><a href="https://michael.lustfield.net/category/nginx">Nginx</a></li>
              <li><a href="https://michael.lustfield.net/category/rambling">Rambling</a></li>
            </ul>
          </nav>
          </li>
          <li class="side-navigation-li">
          <nav>
            <h3>Feeds</h3>
            <ul>
              <li><a href="https://michael.lustfield.net/rss.xml">RSS Feed</a></li>
              <li><a href="https://michael.lustfield.net/nginx/rss.xml">Nginx (rss)</a></li>
            </ul>
          </nav>
          </li>
          <li class="side-navigation-li">
          <nav>
            <h3>Search</h3>
	    <form action="https://www.google.com/search" method="get" name="searchform" />
              <input name="sitesearch" type="hidden" value="michael.lustfield.net" />
              <input autocomplete="on" size="12" maxlength="120" name="q" required="required"  type="text" />
              <input name="q" type="hidden" value="-tag -category -files" />
	      <br /><button class="button" type="submit">Search</button>
            </form>
          </nav>
          </li>
          </ul></div> <!-- /#page-side -->
        <div id="page-content" class="grid-80 tablet-grid-80 mobile-grid-100 right">
        <article class="post" id="page-main" role="main">
      
     
      <header class="post-header">
        <h1><a rel="bookmark" href="https://michael.lustfield.net/nginx/nginx-vs-apache" title="Permalink «Nginx vs. Apache»">Nginx vs. Apache</a></h1>
        <div class="meta">
<!-- includes/article_meta.html -->
            <!--
            On <time datetime="2010-03-01T05:37:00-06:00">Mon 01 March 2010</time>
            in «<a href="https://michael.lustfield.net/category/nginx">nginx</a>» 
            by <a href="https://michael.lustfield.net/author/michael.html">michael</a>              <br />Tags:              <a rel="tag" href="https://michael.lustfield.net/tag/nginx.html">nginx</a>,               <a rel="tag" href="https://michael.lustfield.net/tag/apache.html">apache</a>,               <a rel="tag" href="https://michael.lustfield.net/tag/reviews.html">reviews</a>-->        </div>
      </header>
        <p>warning: no proof reading and some rambling...</p>
<p>I recently made the change to Nginx from Apache. This change came with a
severe lack of fun and enjoyment. The whole process was &gt;150 hours.
Painstaking. It should be pretty easy to move this to my production
server, probably be much much easier. I have yet to even touch using it
as a proxy.</p>
<p>Was the change worth it? I'd have to start by saying the reason for the
switch is a cap in RAM and system that we can utilize. We were hitting
our heads on that ceiling and frankly, going out to invest in more
memory and a host of other crap just didn't feel like the Linux way. It
felt like the Windows way.</p>
<p>The raw data was generated by &quot;<tt class="docutils literal">top <span class="pre">-b</span> <span class="pre">-d</span> 04.00 <span class="pre">-n</span> 45 &gt; <span class="pre">file-httpd</span></tt>&quot;.
After parsing the output I now know a few more options to top would have
been a good idea. The total disk size of this data came to 2.1MB. That's
too much to post here. The summary contains a nicer collection of this
information and does not have modified values.</p>
<p>The results we got are summarized the OOo document attached.
(Benchmark.ods)</p>
<p>The test was pretty informal:</p>
<pre class="literal-block">
start httpd
tell group to hammer sites (after clearing cache)
wait until top finishes
kill httpd
tell group to clear cache and get ready for new httpd
did with apache running; nginx running; no httpd/users (null)
</pre>
<p>The summary:</p>
<p>Nginx clearly beats Apache.</p>
<p>Was the difference enough for me to get excited? YES!</p>
<p>Attachments:</p>
<p><img alt="image0" src="/files/icons/x-office-spreadsheet.png" /> <a class="reference external" href="/files/uploads/Benchmark.ods">Benchmark.ods</a></p>

        <footer class="post-footer">
        <div class="meta">
            Posted in «<a href="https://michael.lustfield.net/category/nginx">nginx</a>» 
            <!--by <a href="https://michael.lustfield.net/author/michael.html">michael</a>--><br />
            Tags:  #<a href="https://michael.lustfield.net/tag/nginx.html">nginx</a> #<a href="https://michael.lustfield.net/tag/apache.html">apache</a> #<a href="https://michael.lustfield.net/tag/reviews.html">reviews</a>        </div>
      </footer>
      
      
      </article> <!-- /#page-main -->
</div>
        
      </div>  <!-- /#page-body -->

      <div id="page-foot">
        <p>MTecknology - <a href="/pages/keeping-it-dry">Keeping IT DRY</a><br />[<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">license</a>]</p>
      </div>
    </div> <!-- /#page -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=252297868"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '252297868');
    </script>
  </body>
</html>